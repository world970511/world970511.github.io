<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Djangoì— Celery ì‚¬ìš©í•˜ê¸°(2) - ë°•ë‚˜ì€</title>
    <meta name="description" content="íšŒì‚¬ì—ì„œ ì§„í–‰í–ˆë˜ ì¼ë“¤ ì •ë¦¬(2): Celeryë¥¼ Djangoì— ì ìš©í•˜ê¸°">
    <meta name="google-site-verification" content="lb30pDDWow-sRJaP0kOtYGGmFU5NTD9i_hNGZIeWHlM" />
    <meta property="og:title" content="Djangoì— Celery ì‚¬ìš©í•˜ê¸°(2)">
    <meta property="og:description" content="íšŒì‚¬ì—ì„œ ì§„í–‰í–ˆë˜ ì¼ë“¤ ì •ë¦¬(2): Celeryë¥¼ Djangoì— ì ìš©í•˜ê¸°">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../../images/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="../../images/favicon/favicon.svg" />
    <link rel="shortcut icon" href="../../images/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="../../images/favicon/apple-touch-icon.png" />
    <link rel="manifest" href="../../images/favicon/site.webmanifest" />
    
    <link rel="stylesheet" href="../../assets/css/styles.css">
    <link rel="stylesheet" href="../../assets/css/blog-post.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>
<body>
    <nav class="nav-container">
        <div class="nav-content">
            <a class="nav-brand" href="../../index.html">ë°•ë‚˜ì€</a>
            <div class="nav-tabs">
                <a class="nav-tab" href="../blog-index.html">Blog</a>
            </div>
        </div>
    </nav>
    
    <div class="main-container">
        <article class="blog-post-full">
            <header class="post-header">
                <h1 class="post-title">Djangoì— Celery ì‚¬ìš©í•˜ê¸°(2)</h1>
                <div class="post-meta">
                    <span>ğŸ“… 2025ë…„ 11ì›” 9ì¼</span>
                    <span>â±ï¸ 5ë¶„ ì½ê¸°</span>
                    <span>ğŸ“ Tech</span>
                </div>
                <div class="post-tags">
                    <span class="post-tag">#python</span><span class="post-tag">#Celery </span>
                </div>
            </header>
            <div class="post-content">
                <h1 id="íšŒì‚¬ì—ì„œ-ì§„í–‰í–ˆë˜-ì¼ë“¤-ì •ë¦¬2">íšŒì‚¬ì—ì„œ ì§„í–‰í–ˆë˜ ì¼ë“¤ ì •ë¦¬(2)</h1>
<p>ì €ë²ˆì— ì“´ <a href="https://world970511.github.io/blog/posts/2025-10-02-2-1.html">Celery ê°œë… ì •ë¦¬</a>ì— ì´ì–´ì„œ<br>ê³µì‹ë¬¸ì„œì˜ <a href="https://docs.celeryq.dev/en/stable/django/first-steps-with-django.html#django-first-steps">First steps with Django</a>ë¥¼ ì°¸ê³ í•˜ì—¬ Djangoì— Celeryë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ì„ ì ëŠ”ë‹¤.</p>
<h2 id="â“-ì–´ë–»ê²Œ-ì ìš©í•˜ë©´-ë ê¹Œ">â“ ì–´ë–»ê²Œ ì ìš©í•˜ë©´ ë ê¹Œ?</h2>
<h4 id="1-celery-ë°-ë©”ì‹œì§€-ë¸Œë¡œì»¤-ì„¤ì¹˜">1. Celery ë° ë©”ì‹œì§€ ë¸Œë¡œì»¤ ì„¤ì¹˜</h4>
<p>Celeryì™€ ì„ íƒí•œ ë©”ì‹œì§€ ë¸Œë¡œì»¤ì— í•„ìš”í•œ Python íŒ¨í‚¤ì§€ë¥¼ ë¨¼ì € ì„¤ì¹˜í•œë‹¤.<br>CeleryëŠ” ì‘ì—…ì„ ì „ë‹¬ë°›ì„ ë©”ì‹œì§€ ë¸Œë¡œì»¤ê°€ ë°˜ë“œì‹œ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— Redisë‚˜ RabbitMQë¥¼ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.<br>ë‚˜ëŠ” ìºì‹± ëª©ì ìœ¼ë¡œ Redisë¥¼ ì´ë¯¸ ì‚¬ìš©í•˜ê³  ìˆì—ˆì–´ì„œ Redisë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ ê·¸ê²Œ ì•„ë‹ˆë¼ë©´ RabbitMQë¥¼ ì‚¬ìš©í•´ë„ ë¬¸ì œëŠ” ì—†ë‹¤.  </p>
<details>
<summary>Redis vs RabbitMQ</summary>
    <table>
    <thead>
        <tr>
        <th>êµ¬ë¶„</th>
        <th>Redis</th>
        <th>RabbitMQ</th>
        </tr>
    </thead>
    <tbody>
        <tr>
        <td><b>ê·¼ë³¸ì ì¸ ì—­í• </b></td>
        <td>ì¸ë©”ëª¨ë¦¬ NoSQL DB, ìºì‹œ, Pub/Sub</td>
        <td>ì „ë¬¸ ë©”ì‹œì§€ ë¸Œë¡œì»¤ (MQ)</td>
        </tr>
        <tr>
        <td><b>ì£¼ìš” í”„ë¡œí† ì½œ</b></td>
        <td>Redis Protocol (ìì²´)</td>
        <td>AMQP (í‘œì¤€), MQTT, STOMP ë“±</td>
        </tr>
        <tr>
        <td><b>ì†ë„/ì²˜ë¦¬ëŸ‰</b></td>
        <td>ë§¤ìš° ë¹ ë¦„ (ì£¼ë¡œ ë©”ëª¨ë¦¬ ê¸°ë°˜), ê³ ì„±ëŠ¥</td>
        <td>Redisë³´ë‹¤ëŠ” ëŠë¦¬ì§€ë§Œ ì•ˆì •ì , ì¶©ë¶„í•œ ì„±ëŠ¥ ì œê³µ</td>
        </tr>
        <tr>
        <td><b>ë©”ì‹œì§€ ì‹ ë¢°ì„±</b></td>
        <td>ë‚®ìŒ (ê¸°ë³¸ì ìœ¼ë¡œ ì „ì†¡ ë³´ì¥X, ë©”ì‹œì§€ ì†ì‹¤ ê°€ëŠ¥ì„±)</td>
        <td>ë†’ìŒ (ë©”ì‹œì§€ ì „ì†¡ ë³´ì¥, ë””ìŠ¤í¬ ì˜ì†ì„± ì§€ì›)</td>
        </tr>
        <tr>
        <td><b>ë³µì¡í•œ ë¼ìš°íŒ…</b></td>
        <td>ì œí•œì  (ê°„ë‹¨í•œ Pub/Sub ë˜ëŠ” List(Queue) ë°©ì‹)</td>
        <td>ë§¤ìš° ìœ ì—°í•¨ (Exchange, Bindingì„ í†µí•œ ë³µì¡í•œ ë¼ìš°íŒ…)</td>
        </tr>
        <tr>
        <td><b>ë©”ì‹œì§€ ìš°ì„ ìˆœìœ„</b></td>
        <td>ì§€ì›í•˜ì§€ ì•ŠìŒ</td>
        <td>ì§€ì›í•¨ (ë†’ì€ ìš°ì„ ìˆœìœ„ ë©”ì‹œì§€ ë¨¼ì € ì²˜ë¦¬ ê°€ëŠ¥)</td>
        </tr>
        <tr>
        <td><b>ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€</b></td>
        <td>ì†ë„ê°€ ìµœìš°ì„ , ì§€ì†ì„±ì´ ëœ ì¤‘ìš”í•œ ì§§ì€ ì‘ì—… (ë‹¨ìˆœ ìºì‹±, ì„¸ì…˜ ì €ì¥)</td>
        <td>ì‹ ë¢°ì„±ê³¼ ë³µì¡í•œ ë¼ìš°íŒ…ì´ ì¤‘ìš”í•œ ì‘ì—… (ê²°ì œ, ì´ë©”ì¼ ì „ì†¡, ëŒ€ê·œëª¨ íŠ¸ëœì­ì…˜)</td>
        </tr>
    </tbody>
    </table>
</details>


<pre><code class="language-bash"># Celery ë° Redis ë°±ì—”ë“œìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
pip install &quot;celery[redis]&quot;
</code></pre>
<h4 id="2-celery-ì¸ìŠ¤í„´ìŠ¤-ì„¤ì •-í”„ë¡œì íŠ¸-ë£¨íŠ¸">2. Celery ì¸ìŠ¤í„´ìŠ¤ ì„¤ì • (í”„ë¡œì íŠ¸ ë£¨íŠ¸)</h4>
<p>Django í”„ë¡œì íŠ¸ì˜ ë©”ì¸ ë””ë ‰í† ë¦¬ì— celery.py íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•œë‹¤.<br>ì´ë•Œ ë©”ì¸ ë””ë ‰í† ë¦¬ëŠ” settings.pyê°€ ìœ„ì¹˜í•œ ê³³ì´ë‹¤. ê³µì‹ ë¬¸ì„œ ë‚´ìš©ì„ ë³´ë©´</p>
<pre><code class="language-bash">- proj/
  - manage.py
  - proj/
    - __init__.py
    - settings.py
    - urls.py
</code></pre>
<p>ë¡œ ë˜ì–´ ìˆëŠ”ë° ì´ë•Œ celery íŒŒì¼ì˜ ê²½ë¡œëŠ” proj/proj/celery.py ì—¬ì•¼ í•œë‹¤ê³  ë˜ì–´ ìˆë‹¤.<br>ë‚˜ëŠ” í´ë” êµ¬ì¡°ê°€ ë°‘ê³¼ ê°™ì•„ì„œ config í´ë” ë‚´ì— ìœ„ì¹˜í•˜ë„ë¡ í–ˆë‹¤  </p>
<pre><code class="language-bash">- dashboard/
  - back/
    - app # view,task íŒŒì¼ ìœ„ì¹˜
    - config/ #settings ë“± ì„¤ì • íŒŒì¼ë“¤ ìœ„ì¹˜ 
        - __init__.py
        - settings.py
        - celery.py
        - urls.py
</code></pre>
<p>celery íŒŒì¼ ë“±ë¡ í›„ ë°‘ê³¼ ê°™ì€ ë‚´ìš©ì„ ì¶”ê°€í•œë‹¤  </p>
<pre><code class="language-python">    import os
    from celery import Celery

    # &#39;celery&#39; í”„ë¡œê·¸ë¨ì´ Djangoì˜ ì„¤ì •ì„ ë¡œë“œí•˜ë„ë¡ ê¸°ë³¸ Django ì„¤ì • ëª¨ë“ˆì„ ì„¤ì •.
    os.environ.setdefault(&#39;DJANGO_SETTINGS_MODULE&#39;, &#39;myproject.settings&#39;)

    app = Celery(&#39;myproject&#39;) # í”„ë¡œì íŠ¸ ì´ë¦„ìœ¼ë¡œ Celery ì•± ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±.

    # Celeryê°€ Django ì„¤ì • íŒŒì¼ì—ì„œ ì„¤ì •ì„ ë¡œë“œ. 
    # &#39;CELERY&#39; ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  Celery ê´€ë ¨ ì„¤ì • í‚¤ì— &#39;CELERY_&#39; ì ‘ë‘ì‚¬ë¥¼ ì¶”ê°€í•´ì•¼ í•¨
    app.config_from_object(&#39;django.conf:settings&#39;, namespace=&#39;CELERY&#39;)

    # ë“±ë¡ëœ ëª¨ë“  Django ì•± ì„¤ì •ì—ì„œ task ëª¨ë“ˆì„ ìë™ìœ¼ë¡œ ê²€ìƒ‰.
    app.autodiscover_tasks()

    @app.task(bind=True)
    def debug_task(self):
        print(f&#39;Request: {self.request!r}&#39;)
</code></pre>
<p>ë°‘ì˜ ê±´ ë‚´ê°€ ì‘ì„±í–ˆë˜ ì½”ë“œ ì˜ˆì‹œì¸ë° env íŒŒì¼ì„ ë”°ë¡œ ë‘ì—ˆê¸°ì— env íŒŒì¼ì„ í™•ì¸í•˜ì—¬ í™˜ê²½ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ ì•„ë‹Œì§€ë¶€í„° ì²´í¬í•˜ê³ , ê·¸ ë‹¤ìŒ ê°œë°œ í™˜ê²½ì¸ì§€ ë°°í¬ í™˜ê²½ì¸ì§€ í™•ì¸í•˜ëŠ” ë¶€ë¶„ì„ ì¶”ê°€í–ˆë‹¤.<br>ë˜í•œ ì—¬ëŸ¬ ì‘ì—… ì¶”ê°€ ì‹œ ìš°ì„ ìˆœìœ„ë¥¼ ìœ„í•´ íë¥¼ ì„¤ì •í•˜ëŠ” ë¶€ë¶„, ì‘ì—… ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„í•˜ëŠ” ë¶€ë¶„ì„ ì¶”ê°€í–ˆë‹¤.  </p>
<pre><code class="language-python">    from __future__ import absolute_import, unicode_literals
    import os
    import django
    from celery import Celery

    # DJANGO_SETTINGS_MODULEì˜ í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ ê¸°ë³¸ê°’ ì‚¬ìš©
    if not os.environ.get(&#39;DJANGO_SETTINGS_MODULE&#39;):
        if os.environ.get(&#39;DEBUG&#39;) == &#39;True&#39;:
            os.environ.setdefault(&#39;DJANGO_SETTINGS_MODULE&#39;, &#39;config.settings.development&#39;)
        else:
            os.environ.setdefault(&#39;DJANGO_SETTINGS_MODULE&#39;, &#39;config.settings.production&#39;)   

    app = Celery(&#39;config&#39;)

    # Django ì„¤ì • íŒŒì¼ì˜ CELERY ê´€ë ¨ í•­ëª©ì„ ì‚¬ìš©
    #ëŒ€ë¬¸ì ë„¤ì„ìŠ¤í˜ì´ìŠ¤ëŠ” ëª¨ë“  Celery êµ¬ì„± ì˜µì…˜ì„ ì†Œë¬¸ìê°€ ì•„ë‹Œ ëŒ€ë¬¸ìë¡œ ì§€ì •í•´ì•¼ í•˜ë©°, ë¡œ ì‹œì‘í•´ì•¼ í•¨ 
    app.config_from_object(&#39;django.conf:settings&#39;, namespace=&#39;CELERY&#39;)

    # íƒœìŠ¤í¬ ìë™ íƒìƒ‰
    app.autodiscover_tasks()

    # ì‘ì—… í ì„¤ì •
    app.conf.task_queues = {
        &#39;default&#39;: {
            &#39;exchange&#39;: &#39;default&#39;,
            &#39;exchange_type&#39;: &#39;direct&#39;,
            &#39;binding_key&#39;: &#39;default&#39;,
        }
    }
    # ì‘ì—…ì(worker) ì„¤ì •
    app.conf.worker_prefetch_multiplier = 4
    app.conf.task_acks_late = True
    app.conf.worker_concurrency = 4 # ë™ì‹œ ì‹¤í–‰ íƒœìŠ¤í¬ ìˆ˜ë¥¼ 4ë¡œ ì œí•œ

    # í’€ ê²½ë¡œ ê¸°ì¤€ ë¼ìš°íŒ…
    # task_routes ì„¤ì •ì„ ì‚¬ìš©í•˜ë©´ ì‘ì—…ì„ ì´ë¦„ìœ¼ë¡œ ë¼ìš°íŒ…í•˜ê³  ëª¨ë“  ê²ƒì„ í•œê³³ì— ì¤‘ì•™ì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ
    app.conf.task_routes = {
        # config
        &quot;config.celery.debug_task&quot;: {&quot;queue&quot;: &quot;default&quot;},
    }
    # ì¬ì‹œë„ ë° rate limit ì„¤ì •
    app.conf.task_default_retry_delay = 10 * 60  # 10ë¶„ í›„ì— ì¬ì‹œë„
    app.conf.task_annotations = {
        &#39;app.tasks.*&#39;: {&#39;rate_limit&#39;: &#39;10/m&#39;},  # ë¶„ë‹¹ 10ê°œì˜ ì‘ì—…ìœ¼ë¡œ ì œí•œ
    }

    # ë””ë²„ê·¸ íƒœìŠ¤í¬ 
    @app.task(bind=True)
    def debug_task(self):
        print(f&#39;Request: {self.request!r}&#39;)
</code></pre>
<h4 id="3-celery-ì•±-ë¡œë“œ-í”„ë¡œì íŠ¸-initpy">3. Celery ì•± ë¡œë“œ (í”„ë¡œì íŠ¸ <strong>init</strong>.py)</h4>
<p>Celery ì•±ì´ Djangoê°€ ì‹œì‘ë  ë•Œ í•­ìƒ ë¡œë“œë˜ë„ë¡ ë©”ì¸ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì˜ <strong>init</strong>.py íŒŒì¼ì— ë‹¤ìŒì„ ì¶”ê°€í•œë‹¤.  </p>
<pre><code class="language-python">    # myproject/__init__.py
    from .celery import app as celery_app

    __all__ = (&#39;celery_app&#39;,)
</code></pre>
<h4 id="4-celery-ì„¤ì •-ì¶”ê°€">4. Celery ì„¤ì • ì¶”ê°€</h4>
<p>Django í”„ë¡œì íŠ¸ì˜ settings.py íŒŒì¼ì— ë©”ì‹œì§€ ë¸Œë¡œì»¤ URL ë° í•„ìš”í•œ Celery ê´€ë ¨ ì„¤ì •ì„ ì¶”ê°€í•œë‹¤.</p>
<pre><code class="language-python">    # Celery ê¸°ë³¸ ì„¤ì •
    CELERY_TIMEZONE = &#39;Asia/Seoul&#39;
    CELERY_IMPORTS = (&#39;app.tasks&#39;,)
    CELERY_TASK_TIME_LIMIT = 30 * 60

    # Redisë¥¼ ë¸Œë¡œì»¤ë¡œ ì‚¬ìš©í•  ê²½ìš° 
    CELERY_BROKER_URL = &#39;redis://localhost:6379/0&#39; 
    # ì‘ì—… ê²°ê³¼ë¥¼ ì €ì¥í•  ë°±ì—”ë“œë¥¼ ì„¤ì • (ì„ íƒ ì‚¬í•­)
    CELERY_RESULT_BACKEND = &#39;redis://localhost:6379/0&#39;
</code></pre>
<p>ë‚˜ëŠ” CELERY_BROKER_URL/CELERY_RESULT_BACKENDë¥¼ ì§ì ‘ ê¸°ì…í•˜ì§€ ì•Šê³  docker-compose.yml íŒŒì¼ì—ì„œ ì •ì˜í•˜ëŠ” ì‹ìœ¼ë¡œ ì§„í–‰í–ˆë‹¤.</p>
<h4 id="5-task-ì •ì˜-ë°-ì‚¬ìš©-taskspy">5. Task ì •ì˜ ë° ì‚¬ìš© (tasks.py)</h4>
<p>ì´ê±´ ì „ì˜ ë‚´ìš©ê³¼ ë™ì¼í•˜ë‹¤. ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—… ë“±ì„ taskë¡œ ë§Œë“¤ë©´ ëœë‹¤.<br>ì¼ë°˜ì ìœ¼ë¡œ Django ì•± ë‚´ì— tasks.py íŒŒì¼ì„ ìƒì„±í•˜ê³  @shared_task ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•œë‹¤.</p>
<details> 
<summary>@app.task ì™€ @shared_task ë¹„êµ </summary>
    <table>
    <thead>
        <tr>
        <th>êµ¬ë¶„</th>
        <th>@app.task</th>
        <th>@shared_task</th>
        </tr>
    </thead>
    <tbody>
        <tr>
        <td><b>ì¸ìŠ¤í„´ìŠ¤ ì˜ì¡´ì„±</b></td>
        <td>Celery ì•± ì¸ìŠ¤í„´ìŠ¤(app)ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ê°€ì ¸ì™€ì•¼ í•¨ </td>
        <td>Celery ì¸ìŠ¤í„´ìŠ¤ ì—†ì´ ì •ì˜ ê°€ëŠ¥, ë…ë¦½ì ìœ¼ë¡œ ì‘ë™ </td>
        </tr>
        <tr>
        <td><b>ì‚¬ìš© í™˜ê²½</b></td>
        <td>ì¼ë°˜ì ì¸ Python í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© </td>
        <td>Django í”„ë¡œì íŠ¸ë‚˜ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì•±ì—ì„œ ì‚¬ìš© ì í•© </td>
        </tr>
        <tr>
        <td><b>Django ì‚¬ìš© ì‹œ ì¶”ì²œ ì—¬ë¶€ </b></td>
        <td>Django í™˜ê²½ì—ì„œëŠ” ë¹„ì¶”ì²œ</td>
        <td>Django í†µí•© ì‹œ ê°•ë ¥íˆ ê¶Œì¥</td>
        </tr>
    </tbody>
    </table>
</details>  

<p>ë°‘ê³¼ ê°™ì´ ì‘ì„±í•˜ë©´ ëœë‹¤</p>
<pre><code class="language-python">    # myapp/tasks.py
    from celery import shared_task

    @shared_task
    def send_email_task(recipient_email, message_body):
        # ì´ë©”ì¼ì„ ë³´ë‚´ëŠ” ë“± ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì„ ìˆ˜í–‰
        print(f&quot;Sending email to {recipient_email} with message: {message_body}&quot;)
        # ì‹¤ì œ ì´ë©”ì¼ ì „ì†¡ ë¡œì§...
        return True
</code></pre>
<p>task íŒŒì¼ êµ¬í˜„ í›„ì—ëŠ” í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ì—¬ ë°‘ê³¼ ê°™ì€ ëª…ë ¹ì„ ì‹¤í–‰í•œë‹¤.    (celery_appëŠ” ì‹¤ì œ í”„ë¡œì íŠ¸ ëª…ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•œë‹¤.)</p>
<pre><code class="language-bash">    celery -A celery_app worker --loglevel=info
</code></pre>
<p>ì‹¤í–‰ì‹œí‚¨ í›„ì—ëŠ” ì¼ë°˜ì ìœ¼ë¡œ delay() ë˜ëŠ” apply_async() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜ëœ taskë¥¼ Celery Workerê°€ ì²˜ë¦¬í•˜ë„ë¡ íì— ë„£ì–´ì£¼ë©´ ëœë‹¤.</p>
<details> 
<summary>@delay()ì™€ apply_async() ë¹„êµ</summary>
    <table>
    <thead>
        <tr>
        <th>êµ¬ë¶„</th>
        <th>@delay()</th>
        <th>apply_async()</th>
        </tr>
    </thead>
    <tbody>
        <tr>
        <td><b>ì‚¬ìš© ëª©ì </b></td>
        <td>ë¹ ë¥´ê³  ë‹¨ìˆœí•œ ë¹„ë™ê¸° í˜¸ì¶œìš© </td>
        <td>ê³ ê¸‰ ì„¤ì • ë° ì„¸ë°€í•œ ì œì–´ê°€ í•„ìš”í•œ ê²½ìš°ì— ì‚¬ìš©</td>
        </tr>
        <tr>
        <td><b>ì¸ìˆ˜ ì „ë‹¬ ë°©ì‹</b></td>
        <td>ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œì²˜ëŸ¼ ì¸ìˆ˜ë¥¼ ì§ì ‘ ì „ë‹¬ (task.delay(a, b))</td>
        <td>args=(), kwargs={} í˜•íƒœë¡œ ëª…ì‹œì ìœ¼ë¡œ ì „ë‹¬ </td>
        </tr>
        <tr>
        <td><b>Celery ì˜µì…˜ ì‚¬ìš© ì—¬ë¶€</b></td>
        <td>âŒ ì‚¬ìš© ë¶ˆê°€</td>
        <td>âœ… ì‚¬ìš© ê°€ëŠ¥ (ì˜ˆ: queue, countdown, eta)</td>
        </tr>
    </tbody>
    </table>
</details>

<pre><code class="language-python">    # Django ì‰˜ì´ë‚˜ View ë“±ì—ì„œ
    from myapp.tasks import send_email_task

    # ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‘ì—… ì‹¤í–‰
    send_email_task.delay(&#39;user@example.com&#39;, &#39;Welcome to our service!&#39;)
</code></pre>

            </div>
            <footer class="post-footer">
                <div class="post-navigation">
                    <a href="../blog-index.html" class="back-to-blog">â† ë¸”ë¡œê·¸ë¡œ ëŒì•„ê°€ê¸°</a>
                </div>
            </footer>
        </article>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <!-- Mermaid ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        // Mermaid ì´ˆê¸°í™” ë° ë Œë”ë§
        mermaid.initialize({ 
            startOnLoad: false,
            theme: 'default',
            securityLevel: 'loose'
        });
        
        // í˜ì´ì§€ ë¡œë“œ í›„ ì‹¤í–‰
        window.addEventListener('DOMContentLoaded', function() {
            // language-mermaid í´ë˜ìŠ¤ë¥¼ ê°€ì§„ ì½”ë“œ ë¸”ë¡ ì°¾ê¸°
            document.querySelectorAll('pre code.language-mermaid').forEach(function(codeElement) {
                const pre = codeElement.parentElement;
                const mermaidCode = codeElement.textContent;
                
                // ìƒˆë¡œìš´ mermaid div ìƒì„±
                const mermaidDiv = document.createElement('div');
                mermaidDiv.className = 'mermaid';
                mermaidDiv.textContent = mermaidCode;
                
                // pre íƒœê·¸ë¥¼ mermaid divë¡œ êµì²´
                pre.parentNode.replaceChild(mermaidDiv, pre);
            });
            
            // Mermaid ë Œë”ë§
            mermaid.init(undefined, document.querySelectorAll('.mermaid'));
        });
    </script>
</body>
</html>